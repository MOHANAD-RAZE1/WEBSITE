<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>RAZE VIP</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;600&display=swap" rel="stylesheet" />
  <style>
    :root {
      --bg1: #0e0b16;
      --bg2: #1a1a2e;
      --bg3: #000718;
      --bg4: #000308;
      --accent-primary: rgba(4, 0, 89, 0.635);
      --accent-secondary: #0002446f;
    }
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Poppins', sans-serif;
    }
    body {
      height: 100vh;
      background: linear-gradient(135deg, var(--bg1), var(--bg2), var(--bg3), var(--bg4));
      background-size: 400% 400%;
      animation: gradientBG 20s ease infinite;
      overflow: hidden;
    }
    @keyframes gradientBG {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    #star-canvas {
      position: absolute;
      width: 100%;
      height: 100%;
      z-index: 0;
      top: 0;
      left: 0;
    }

    .container {
      position: relative;
      z-index: 1;
      background: rgba(255,255,255,0.1);
      backdrop-filter: blur(10px);
      max-width: 360px;
      margin: auto;
      top: 50%;
      transform: translateY(-50%);
      padding: 60px 30px;
      border-radius: 15px;
      box-shadow: 0 0 20px rgba(0,0,0,0.4);
      text-align: center;
      color: #fff;
      opacity: 0;
      transform: translateY(30px);
      animation: fadeInUp 1.3s ease forwards;
    }

    @keyframes fadeInUp {
      to {
        opacity: 1;
        transform: translateY(-50%);
      }
    }

    .title {
      font-size: 1.8rem;
      font-weight: 600;
      margin-bottom: 25px;
    }

    .title span {
      background: linear-gradient(270deg, red, orange, yellow, green, cyan, blue, violet, red);
      background-size: 1400% 1400%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: animateText 40s linear infinite;
    }

    @keyframes animateText {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    .input-group {
      margin-bottom: 25px;
    }

    input {
    width: 100%;
      padding: 12px 15px;
      background: transparent;
      border: none;
      border-bottom: 2px solid rgba(255,255,255,0.5);
      color: #fff;
      font-size: 1rem;
      outline: none;
      transition: border-color 0.3s;
    }
    @keyframes rgb-border {
      0% { border-bottom-color: #ff0000; }
      25% { border-bottom-color: #00ff00; }
      50% { border-bottom-color: #0000ff; }
      75% { border-bottom-color: #ffff00; }
      100% { border-bottom-color: #ff0000; }
    }
    input:focus {
       border-bottom: 2px solid;
      animation: rgb-border 20s linear infinite;
    }

    @keyframes rgbBorder {
      0% { border-image-source: linear-gradient(90deg, red, orange, yellow, green, cyan, blue, violet); }
      100% { border-image-source: linear-gradient(90deg, violet, blue, cyan, green, yellow, orange, red); }
    }

    button {
      padding: 12px 40px;
      border: none;
      border-radius: 10px;
      background: linear-gradient(45deg, var(--accent-primary), var(--accent-secondary));
      color: #fff;
      font-size: 1rem;
      cursor: pointer;
      transition: 0.3s ease;
    }

    button:hover {
      transform: translateY(-3px);
      box-shadow: 0 0 15px rgba(5, 0, 68, 0.6);
    }

    .result {
      margin-top: 20px;
      font-size: 1.2rem;
      color: #fff;
    }

    .notification {
      position: fixed;
      bottom: 30px;
      left: 50%;
      transform: translateX(-50%) translateY(20px);
      background: rgba(0,0,0,0.85);
      color: #fff;
      padding: 14px 22px;
      border-radius: 8px;
      font-size: 0.95rem;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.5s ease, transform 0.5s ease;
      z-index: 9999;
    }
    .notification.show {
      opacity: 1;
      transform: translateX(-50%) translateY(0);
      pointer-events: auto;
    }
    .notification.hide {
      opacity: 0;
      transform: translateX(-50%) translateY(20px);
    }
  </style>
</head>
<body>
  <canvas id="star-canvas"></canvas>
  <div class="container">
    <div class="rgb-title">★ RAZE VIP ★</div>
    <div class="input-group">
      <input type="text" id="codeInput" placeholder="Enter Sync Code">
    </div>
    <button id="getBtn">Get Stats</button>
    <div id="result" class="result"></div>
  </div>
  <div id="notif" class="notification"></div>

<script>
  const btn = document.getElementById('getBtn');
  const resultDiv = document.getElementById('result');

  function countUp(el, target) {
    el.textContent = '0';
    const duration = 800;
    const stepTime = Math.abs(Math.floor(duration / (target || 1)));
    let current = 0;
    const timer = setInterval(() => {
      current++;
      el.textContent = current;
      if (current >= target) clearInterval(timer);
    }, stepTime);
  }

  btn.addEventListener('click', async () => {
    resultDiv.innerHTML = '';
    resultDiv.style.opacity = 0;
    const code = document.getElementById('codeInput').value.toUpperCase();

    if (!code) {
      resultDiv.innerHTML = '<p>Please enter a valid code.</p>';
      resultDiv.style.animation = 'fadeIn 0.6s ease-out forwards';
      return;
    }

    try {
      const res = await fetch(`https://mainchat-21f83-default-rtdb.firebaseio.com/playerStats/${code}.json`);
      const data = await res.json();

      resultDiv.innerHTML = '';
      
      if (data && data.players !== undefined) {
        // Players
        const playersEl = document.createElement('div');
        playersEl.classList.add('stat');
        playersEl.innerHTML = 'Players: <span>0</span>';
        resultDiv.appendChild(playersEl);
        countUp(playersEl.querySelector('span'), data.players);

        // Bots (only if exists)
        if (data.bots !== undefined) {
          const botsEl = document.createElement('div');
          botsEl.classList.add('stat');
          botsEl.innerHTML = 'Bots: <span>0</span>';
          resultDiv.appendChild(botsEl);
          countUp(botsEl.querySelector('span'), data.bots);
        }

        resultDiv.style.animation = 'fadeIn 0.6s ease-out forwards';

      } else {
        resultDiv.innerHTML = '<p>No data found for this code.</p>';
        resultDiv.style.animation = 'fadeIn 0.6s ease-out forwards';
      }

    } catch {
      resultDiv.innerHTML = '<p>Error fetching data. Try again.</p>';
      resultDiv.style.animation = 'fadeIn 0.6s ease-out forwards';
    }
  });
</script>

</body>
</html>
